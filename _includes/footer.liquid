{% capture footer_contents %}
  &copy; Copyright {{ site.time | date: '%Y' }}
  {{ site.first_name }}
  {{ site.middle_name }}
  {{ site.last_name }}. {{ site.footer_text }}
  {% if site.impressum_path %}
    <a href="{{ site.url }}{{ site.baseurl }}{{ site.impressum_path }}">Impressum</a>.
  {% endif %}
  {% if site.last_updated %}
    Last updated: {{ 'now' | date: '%B %d, %Y' }}.
  {% endif %}
  
  <!-- Visitor Counter -->
  {% if site.statcounter.enabled and site.statcounter.project_id %}
    <!-- Statcounter Code -->
    <div style="margin-top: 10px; text-align: center;">
      <script type="text/javascript">
        var sc_project={{ site.statcounter.project_id }}; 
        var sc_invisible={% if site.statcounter.invisible %}1{% else %}0{% endif %}; 
        var sc_security="{{ site.statcounter.security_code }}"; 
      </script>
      <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
      <noscript>
        <div class="statcounter">
          <a title="Web Analytics" href="https://statcounter.com/" target="_blank">
            <img class="statcounter" src="https://c.statcounter.com/{{ site.statcounter.project_id }}/0/{{ site.statcounter.security_code }}/{% if site.statcounter.invisible %}1{% else %}0{% endif %}/" alt="Web Analytics" style="border:none;">
          </a>
        </div>
      </noscript>
    </div>
  {% elsif site.flagcounter_id %}
    <!-- Flag Counter (fallback) -->
    <div style="margin-top: 10px; text-align: center;">
      <a href="https://info.flagcounter.com/{{ site.flagcounter_id }}" target="_blank">
        <img src="https://s01.flagcounter.com/count2/{{ site.flagcounter_id }}/bg_FFFFFF/txt_000000/border_CCCCCC/columns_3/maxflags_12/viewers_0/labels_1/pageviews_1/flags_0/percent_0/" 
             alt="Flag Counter" 
             border="0"
             style="max-width: 100%; height: auto;">
      </a>
    </div>
  {% endif %}
{% endcapture %}

{% if site.footer_fixed %}
  <footer class="fixed-bottom" role="contentinfo">
    <div class="container mt-0">
      {{ footer_contents }}
    </div>
  </footer>
{% else %}
  <footer class="sticky-bottom mt-5" role="contentinfo">
    {% if site.newsletter.enabled %}
      {% include newsletter.liquid %}
    {% endif %}

    <div class="container">
      {{ footer_contents }}
    </div>
  </footer>
{% endif %}
